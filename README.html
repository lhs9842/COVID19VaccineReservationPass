<head>
	<meta charset="utf-8" />
	<title>코로나바이러스감염증-19 예방접종 사전예약 접속기</title>
</head>
<body>
	<h1 id="-19-">코로나바이러스감염증-19 예방접종 사전예약 접속기</h1>
	<h3 id="-">개요</h3>
	<p>본 웹 문서는 코로나바이러스감염증-19 예방접종 사전예약 시스템(<a href="https://ncvr.kdca.go.kr">https://ncvr.kdca.go.kr</a>, 이하 &#39;사전예약 시스템&#39;이라 함)의 접속 과정에서 NetFunnel 대기에 따른 피로를 줄이기 위해 작성되었습니다.</p>
	<h3 id="-">구동 원리</h3>
	<p>본 웹문서는 예약 시작 시간 이전에 먼저 질병관리청 NetFunnel 서버로부터 대기 코드와 순번을 부여받고 그 코드를 지속 사용 가능한 상태를 유지하기 위해 2초 주기로 그 키를 갱신합니다. 이용자가 &quot;접속 하기&quot; 버튼을 누르면 새 탭을 열어 질병관리청 NetFunnel 서버로부터 받은 Key 값을 사전예약 시스템의 NetFunnel 검증 페이지로 넘기면서 페이지를 엽니다. 해당 키 값은 해당 이용자의 IP주소로 질병관리청 NetFunnel 서버에서 발급받은 Key 값이므로 사전예약 시스템은 정상 접근으로 인식하고 접속을 허용합니다.</p>
	<h3 id="-">본 방식의 한계점</h3>
	<p>이러한 방식에도 불구하고 이 웹문서를 통한 이용한 사전예약 시스템 접속 및 이용 과정에서는 다음과 같은 한계점이 있습니다.</p>
	<ol>
		<li>질병관리청 NetFunnel 서버에서 본 웹문서가 있는 페이지에서의 접근을 허용할 이유가 없으므로 질병관리청 NetFunnel 서버에 키를 주고 받는 과정에서 NetFunnel 서버의 응답 헤더의 Access-Control-Allow-Origin 값에 이 문서가 속한 도메인이 없습니다. 따라서 브라우저는 교차 출처 리소스 공유(CORS) 정책 위반으로 본 웹문서 내의 Javascript가 넷퓨넬 서버의 응답 내용을 활용할 수 없게 조치합니다. 본 문서에서는 크롬 웹스토어의 &#39;Allow CORS&#39; 확장 기능을 설치하여 활성화하는 방법으로 해당 정책 위반을 무시하고 진행할 수 있도록 안내하고 있습니다만, CORS 정책의 역할을 고려하였을 때 이러한 조치를 취하는 것이 이용자 보안에 이로운 행동은 아닙니다. </li>
		<li>질병관리청이 사전예약 시스템을 개발할 때, 실제 주소가 들어나지 않도록 <a href="https://ncvr.kdca.go.kr">https://ncvr.kdca.go.kr</a> 페이지에 Frame으로 <a href="https://ncvr.kdca.go.kr/home_n.html?version=21080420">https://ncvr.kdca.go.kr/home_n.html?version=21080420</a> 을 띄우도록 조치하고 home_n.html에서 실제 페이지 이동 등이 일어나도록 구성하였습니다. 그리고 Frame 안에서 alerm 함수를 실행하여도 실제 alerm이 브라우저에 나타나지 않습니다. 이에 따라 질병관리청은 customAlerm이라는 함수를 별도로 만들어 부모 페이지에 alerm 내용을 전달하여 부모 페이지에서 알람을 발생하도록 조치하였습니다. 그런데, 이 시스템은 그 프레임 안에서 돌아가야할 페이지가 그 window의 최 상위 페이지이므로, 그 페이지의 부모 페이지가 없어 해당 함수가 정상적으로 작동하지 않습니다. 그런 이유로 질병관리청이 해당 부분에 대하여 예외 처리한 결과인 &quot;alert(&quot;예기치 못한 오류가 발생하였습니다.&quot;)&quot;가 실행되어 alerm이 발생해야하는 모든 상황에 사전예약 시스템은 실제 페이지가 나타내고자 하는 메시지가 아닌 &quot;예기치 못한 오류가 발생하였습니다.&quot;가 나타납니다. 예약 중 오류 사항(정보 입력 누락, 예약 불가 시간대 예약 시도 등)이 발생하지 않는 경우 alerm이 발생하지 않으므로, 해당 메시지가 나타났다면 오류 사항을 직접 찾아야 하는 불편함이 발생합니다.</li>
		<li>질병관리청은 때때로 잠수함 패치로 이런 우회법을 지속적으로 막아오고 있습니다. 본 방법 역시 언제든 무력화될 수 있습니다.</li>
	</ol>
	<h3 id="-">면책 사항</h3>
	<p>본 웹 문서 제작자는 본 웹문서를 통해 항시 사전예약 시스템에 접속하는 것이 가능하다라거나 이 방법이 문제가 없다라는 보장을 하는 것은 아니므로, 이를 이용하여 예방접종 예약을 시도하여 발생하는 문제는 이용자 본인에게 있음을 인지하고 사용하셔야 합니다. 이 웹 문서 이용으로 발생하는 문제는 이용자 본인이 감수하여야 합니다.</p>
</body>